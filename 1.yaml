## Core settings
# Mixed HTTP+SOCKS inbound listening port
mixed-port: 7890
# Allow devices in LAN to use this proxy
allow-lan: true
# Bind to all interfaces; set to a specific IP to restrict
bind-address: '*'
# Use rule-based mode; traffic follows the rules below
mode: rule
# Reduce I/O by logging warnings and above
log-level: warning
# RESTful controller for UI clients (Clash Dashboard/Clients)
external-controller: '127.0.0.1:9090'
# Display a unified RTT measurement in UI
unified-delay: true
# Accelerate TCP handshake with parallel dials
tcp-concurrent: true

# Enable Clash.Meta geodata and set explicit sources
geodata-mode: true
geodata-loader: standard
geox-url:
  geoip: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/geoip.dat
  geosite: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/release/geosite.dat

# ------------------------------
# Anchors (globals reused below)
# ------------------------------
anchors:
  probe_url: &probe_url http://www.gstatic.com/generate_204
  hc_interval: &hc_interval 600
  probe_interval: &probe_interval 300
  tol_50: &tol_50 50
  tol_120: &tol_120 120
  exclude_bad: &exclude_bad '(å‰©ä½™æµé‡|å¥—é¤åˆ°æœŸ|å¥—é¤|æµé‡|èŠ‚ç‚¹|é‡ç½®|åˆ°æœŸ|å®˜ç½‘|è®¢é˜…|è¯·åˆ°|å¼‚å¸¸|å¤±æ•ˆ|æ— æ•ˆ|æµ‹é€Ÿ|æµ‹è¯•|æ¼”ç¤º|ä½“éªŒ|å…¬ç›Š|è¿‡æœŸ|é‡ç½®æ—¥|ç”¨é‡|ç¾¤|è®¢é˜…é“¾æ¥|æ— æ³•ä½¿ç”¨|é™é€Ÿ|åˆ·æ–°|å¤±è´¥|é‡ç™»|ç”µæŠ¥|é˜²å¤±è”|github|panel|è¿”åˆ©|å®¢æˆ·ç«¯|å…¬å‘Š|å¤±è”|ç»´æŠ¤|å‡çº§|é¦™æ¸¯|Hong Kong|HK)'
  preferred_region_filter: &preferred_region_filter '(?i)(US|United States|ç¾å›½)'

  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}

  sub_provider: &sub_provider
    type: http
    interval: 86400
    health-check:
      enable: true
      url: *probe_url
      interval: *hc_interval
    exclude-filter: *exclude_bad

  ad_rule: &ad_rule
    type: http
    behavior: classical
    interval: 86400

# Persist selections and Fake-IP mappings across restarts
profile:
  store-selected: true
  store-fake-ip: true

# Traffic sniffer
sniffer:
  enable: true
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
  force-domain:
    - +.netflix.com
    - +.googlevideo.com
    - +.openai.com
    - +.chatgpt.com
  skip-domain:
    - +.lan
    - localhost

# DNS settings (DoH + Fake-IP)
dns:
  enable: true     #å¼€å¯dnsé…ç½®
  # Disable IPv6 to prevent leaks via v6 stack
  ipv6: false
  enhanced-mode: fake-ip
  # IP range used to synthesize Fake-IP answers
  fake-ip-range: 198.18.0.1/16
  # Honor entries from system hosts file
  use-hosts: true

  default-nameserver:      #åŸºç¡€DNSæœåŠ¡å™¨ï¼Œå¿…é¡»å…ˆæœ‰å®ƒæ‰èƒ½ä½¿ç”¨åŸŸåç±»å‹çš„DNSé…ç½®ï¼Œå› æ­¤å¿…é¡»ä¸ºIPï¼Œæ­¤å¤„ä½¿ç”¨é˜¿é‡Œäº‘DNS
    - tls://223.5.5.5
    - tls://223.6.6.6
  nameserver:         #åœ¨è®¿é—®çš„å›½å¤–ç½‘ç«™æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•åŸŸåè§„åˆ™ï¼Œæœ€ç»ˆèµ°äº†MATCHå…œåº•è§„åˆ™æ—¶ä½¿ç”¨çš„DNSï¼Œä¸ºäº†ç¡®ä¿ä¸å‘ç”ŸDNSæ³„æ¼å’ŒDNSæ±¡æŸ“ï¼Œå¿…é¡»ä½¿ç”¨å›½å¤–DNS
    - https://cloudflare-dns.com/dns-query
    - https://dns.google/dns-query
  proxy-server-nameserver:         #è§£æä»£ç†èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„DNSï¼Œä¸ºäº†ä½¿ä¸‹é¢çš„respect-rulesç”Ÿæ•ˆå¿…é¡»è®¾ç½®ï¼Œæœ€å¥½è®¾ç½®ä¸ºå›½å†…DNSï¼Œå¦åˆ™åœ¨ä»£ç†çš„ç¬¬ä¸€æ­¥å°±å¯èƒ½å› ä¸ºè¿æ¥ä¸ä¸Šå›½å¤–DNSè€Œè§£æä¸å‡ºä»£ç†èŠ‚ç‚¹çš„IPï¼Œæœ€ç»ˆå€’åœ¨èµ·ç‚¹
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  direct-nameserver:           #è§„åˆ™åŒ¹é…åˆ°ç›´è¿æ—¶ä½¿ç”¨çš„DNSï¼Œæ—¢ç„¶æ˜¯å¯ä»¥ç›´è¿çš„ï¼Œå½“ç„¶è¦ç”¨å›½å†…DNS
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  respect-rules: true      #è®©è¿æ¥DNSæœåŠ¡å™¨æ—¶èƒ½å¤Ÿéµå¾ªè§„åˆ™ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡ä»£ç†èŠ‚ç‚¹è¿æ¥åˆ°ä¸Šé¢è®¾ç½®çš„å›½å¤–DNSï¼Œå› ä¸ºç›´è¿å¯èƒ½è¿æ¥ä¸ä¸Š
      
  fake-ip-filter:
    - '+.lan'
    - localhost
    - '*.local'
    - '*.home.arpa'
    - time.*.com
    - ntp.*.com
    - '+.msftconnecttest.com'
    - '+.msftncsi.com'

# Static proxies (manual entries go here alongside subscriptions)
proxies:


  - name: "vless-67.215.246.66"
    type: vless
    server: 67.215.246.66
    port: 49231
    uuid: 2ffd8991-d893-4204-a78c-60dd891b13f6
    encryption: none
    udp: true
    network: tcp
    tls: true
    flow: xtls-rprx-vision
    servername: dash.cloudflare.com
    reality-opts:
      public-key: OKvIc7OJdYrVslBXbKhDMjxtGQ4GjH83zPKCQ4oJv04
    client-fingerprint: chrome

  - name: "vless-reality-104.223.120.186"
    type: vless
    server: 104.223.120.186
    port: 15773
    uuid: e446ffeb-ecde-48a8-a6aa-882ee2fe0964
    encryption: none
    udp: true
    network: tcp
    tls: true
    flow: xtls-rprx-vision
    servername: www.microsoft.com
    reality-opts:
      public-key: 0n9idc_fHN41hlElhlnlQHicy1jGvaz_f3z2PwUCYRs
      short-id: 743f654125eb097d
    client-fingerprint: chrome

  - name: "vless-reality-192.227.247.153-39209"
    type: vless
    server: 192.227.247.153
    port: 39209
    uuid: 50f9e234-206c-4040-9e8d-948b525c2fde
    encryption: none
    udp: true
    network: tcp
    tls: true
    flow: xtls-rprx-vision
    servername: www.microsoft.com
    reality-opts:
      public-key: uYk0_4z45bX4yv4OoAH0KF41xiYvE7c7al9R06c-aXg
      short-id: c5f1e70c6b7f90ac
    client-fingerprint: chrome

  - name: "vless-grpc-reality-192.227.247.153-28287"
    type: vless
    server: 192.227.247.153
    port: 28287
    uuid: 50f9e234-206c-4040-9e8d-948b525c2fde
    encryption: none
    udp: true
    network: grpc
    tls: true
    servername: www.microsoft.com
    reality-opts:
      public-key: uYk0_4z45bX4yv4OoAH0KF41xiYvE7c7al9R06c-aXg
      short-id: c5f1e70c6b7f90ac
    grpc-opts:
      grpc-service-name: grpc
    client-fingerprint: chrome

  - name: "vless-reality-51.75.118.170"
    type: vless
    server: 51.75.118.170
    port: 20175
    uuid: c9f88e06-eda2-48cb-b041-cf0d8bb541ff
    encryption: none
    udp: true
    network: tcp
    tls: true
    flow: xtls-rprx-vision
    servername: www.nazhumi.com
    reality-opts:
      public-key: xPlXeoDHkoH1auPuYAuie401raiUSuqFM1JDG-4EzlY
    client-fingerprint: firefox


# ------------------------------
# Proxy providers (subscriptions)
# ------------------------------
proxy-providers:
  ä¸‰æ¯› qq:
    <<: *sub_provider
    url: "https://sub-1.smjcdh.top/smjc/api/v1/client/subscribe?token=f938ad64437773a622b13db122f55aac"
    path: ./.providers/sanmao-qq.yaml

  ä¸‰æ¯› gmail:
    <<: *sub_provider
    url: "https://sub-1.smjcdh.top/smjc/api/v1/client/subscribe?token=5cbd725501d1660a7c80e3dbcc2e326c"
    path: ./.providers/sanmao-gmail.yaml


# ------------------------------
# Proxy groups (UI selections)
# ------------------------------
proxy-groups:
  # Default egress: prefer Reality line, fall back to auto-tested pool
  - name: "ğŸšª å‡ºå£ç­–ç•¥"
    type: select
    proxies:
      - "ğŸ›¡ï¸ Reality ä¸“çº¿"
      - "ğŸ“¦ è®¢é˜…èŠ‚ç‚¹"

    url: *probe_url
    interval: *probe_interval

  - name: "ğŸ›¡ï¸ Reality ä¸“çº¿"
    type: select
    proxies:
      - "vless-reality-192.227.247.153-39209"
      - "vless-grpc-reality-192.227.247.153-28287"
      - "vless-reality-104.223.120.186"
      - "vless-reality-51.75.118.170"
      - "vless-67.215.246.66"

  - name: "ğŸ“¦ è®¢é˜…èŠ‚ç‚¹"
    type: url-test
    use:
      - "ä¸‰æ¯› qq"
      - "ä¸‰æ¯› gmail"
    url: *probe_url
    interval: *probe_interval
    lazy: true
    tolerance: *tol_50


  # Service-specific groups
  - name: "ğŸ”¬ ç§‘ç ”ç½‘ç«™"
    type: select
    proxies:
      - DIRECT
      - "ğŸ›¡ï¸ Reality ä¸“çº¿"
  # æ‰‹åŠ¨é€‰æ‹©åˆ†ç»„å·²åˆ é™¤

# ------------------------------
# Per-provider auto url-test groups
# ------------------------------

  # Removed per-airport url-test groups per request


# ------------------------------
# Rule providers (reusable rule-sets)
# ------------------------------
rule-providers:
  private_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"}
  proxylite: { <<: *class, url: "https://raw.githubusercontent.com/qichiyuhub/rule/refs/heads/main/proxy.list"}
  ai: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-!cn.mrs"}
  youtube_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"}
  google_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  scholar_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-scholar-!cn.mrs"}
  github_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"}
  telegram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  netflix_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"}
  disney_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/disney.mrs"}
  primevideo_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/primevideo.mrs"}
  hulu_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/hulu.mrs"}
  hbo_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/hbo.mrs"}
  paypal_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs"}
  onedrive_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs"}
  microsoft_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"}
  apple_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs"}
  speedtest_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs"}
  tiktok_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"}
  x_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/x.mrs"}
  facebook_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/facebook.mrs"}
  instagram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/instagram.mrs"}
  geolocation-!cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"}
  cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}

  private_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs"}
  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"}
  google_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"}
  telegram_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"}
  netflix_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs"}
  apple_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo-lite/geoip/apple.mrs"}

  # Ad-block rule-providers
  ad-acl4ssr:
    <<: *ad_rule
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanAD.yaml
    path: ./.rules/banad.yaml
  ad-easylist:
    <<: *ad_rule
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyList.yaml
    path: ./.rules/baneasylist.yaml
  ad-easylist-china:
    <<: *ad_rule
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyListChina.yaml
    path: ./.rules/baneasylistchina.yaml
  ad-easyprivacy:
    <<: *ad_rule
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyPrivacy.yaml
    path: ./.rules/baneasyprivacy.yaml
  ad-programad:
    <<: *ad_rule
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanProgramAD.yaml
    path: ./.rules/banprogramad.yaml

rules:
  # Local/Private
  - RULE-SET,private_domain,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT
  - RULE-SET,private_ip,DIRECT,no-resolve

  # Reality èŠ‚ç‚¹æœåŠ¡å™¨ IP ç›´è¿ï¼Œé¿å…å¾ªç¯ä»£ç†
  - IP-CIDR,67.215.246.66/32,DIRECT,no-resolve
  - IP-CIDR,104.223.120.186/32,DIRECT,no-resolve
  - IP-CIDR,192.227.247.153/32,DIRECT,no-resolve
  - IP-CIDR,51.75.118.170/32,DIRECT,no-resolve

  # WeChat/Tencent images & related â€” force DIRECT
  - DOMAIN-SUFFIX,qpic.cn,DIRECT
  - DOMAIN-SUFFIX,qlogo.cn,DIRECT
  - DOMAIN-SUFFIX,weixin.qq.com,DIRECT
  - DOMAIN-SUFFIX,wx.qq.com,DIRECT
  - DOMAIN-SUFFIX,mp.weixin.qq.com,DIRECT
  - DOMAIN-SUFFIX,gtimg.cn,DIRECT
  - DOMAIN-SUFFIX,gtimg.com,DIRECT
  - DOMAIN-SUFFIX,idqqimg.com,DIRECT
  - DOMAIN-SUFFIX,cdn-go.cn,DIRECT
  - DOMAIN-SUFFIX,qq.com,DIRECT
  # Additional Tencent/WeChat domains
  - DOMAIN-SUFFIX,servicewechat.com,DIRECT
  - DOMAIN-SUFFIX,url.cn,DIRECT
  - DOMAIN-SUFFIX,weixin110.qq.com,DIRECT
  - DOMAIN-SUFFIX,tenpay.com,DIRECT

  - DOMAIN-SUFFIX,edu.cn,DIRECT
  - DOMAIN-SUFFIX,explore.sysu.edu.cn,DIRECT

  # Ad blocking via geosite + rule-providers
  - GEOSITE,category-ads,REJECT
  - RULE-SET,ad-acl4ssr,REJECT
  - DOMAIN-SUFFIX,byteoversea.com,REJECT

  # Simple ad/tracker rejects (lightweight)
  - DOMAIN-KEYWORD,adservice,REJECT
  - DOMAIN-SUFFIX,doubleclick.net,REJECT
  - DOMAIN-KEYWORD,adsys,REJECT

  # Research/Education selectableÂ 
  - RULE-SET,scholar_domain,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,arxiv.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,acm.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,dl.acm.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,ieee.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,ieeexplore.ieee.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,springer.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,sciencedirect.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,elsevier.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,nature.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,wiley.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,onlinelibrary.wiley.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,science.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,sciencemag.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,researchgate.net,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,semanticscholar.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,jstor.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,pnas.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,cambridge.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,oup.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,oxfordjournals.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,aps.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,aip.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,tandfonline.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,cell.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,biorxiv.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,medrxiv.org,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,nih.gov,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,ncbi.nlm.nih.gov,ğŸ”¬ ç§‘ç ”ç½‘ç«™
  - DOMAIN-SUFFIX,cochranelibrary.com,ğŸ”¬ ç§‘ç ”ç½‘ç«™

  # Telegram
  - RULE-SET,telegram_domain,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,telegram_ip,ğŸšª å‡ºå£ç­–ç•¥

  # OpenAI/ChatGPT
  - RULE-SET,ai,ğŸ›¡ï¸ Reality ä¸“çº¿
  - DOMAIN-SUFFIX,openevidence.com,ğŸ›¡ï¸ Reality ä¸“çº¿
  - DOMAIN,aistudio.google.com,ğŸ›¡ï¸ Reality ä¸“çº¿

  # Github
  - RULE-SET,github_domain,ğŸšª å‡ºå£ç­–ç•¥

  # X (Twitter)
  - RULE-SET,x_domain,ğŸšª å‡ºå£ç­–ç•¥

  # Facebook family
  - RULE-SET,facebook_domain,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,instagram_domain,ğŸšª å‡ºå£ç­–ç•¥

  # YouTube/Google Video
  - RULE-SET,youtube_domain,ğŸšª å‡ºå£ç­–ç•¥

  # Streaming (default WARP)
  - RULE-SET,netflix_domain,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,netflix_ip,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,disney_domain,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,primevideo_domain,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,hulu_domain,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,hbo_domain,ğŸšª å‡ºå£ç­–ç•¥

  # Steam direct (downloads/store)
  - DOMAIN-SUFFIX,steampowered.com,DIRECT
  - DOMAIN-SUFFIX,steamstatic.com,DIRECT
  - DOMAIN-SUFFIX,steamcontent.com,DIRECT
  - DOMAIN-SUFFIX,steamserver.net,DIRECT
  - DOMAIN-SUFFIX,steamchina.com,DIRECT

  # Apple/Microsoft direct (prefer CN/local)
  - DOMAIN,apps.apple.com,ğŸšª å‡ºå£ç­–ç•¥
  - DOMAIN-SUFFIX,marscode.com,ğŸšª å‡ºå£ç­–ç•¥
  - RULE-SET,apple_domain,DIRECT
  - RULE-SET,apple_ip,DIRECT
  - RULE-SET,microsoft_domain,DIRECT

  # China
  - RULE-SET,cn_domain,DIRECT
  - GEOIP,CN,DIRECT

  # Final
  - RULE-SET,geolocation-!cn,ğŸšª å‡ºå£ç­–ç•¥
  - MATCH,ğŸšª å‡ºå£ç­–ç•¥
